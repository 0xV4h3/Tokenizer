<Window x:Class="Tokenizer.UI.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:Tokenizer.UI.ViewModels"
        Title="Tokenizer" Height="600" Width="900" MinWidth="700" MinHeight="450">
    <Window.DataContext>
        <vm:MainViewModel />
    </Window.DataContext>
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*" />
            <ColumnDefinition Width="3*" />
        </Grid.ColumnDefinitions>
        <!-- Left side: label, input, buttons -->
        <Grid Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <TextBlock Grid.Row="0" Text="SQL input:" FontWeight="Bold" Margin="0,0,0,8"/>
            <TextBox Grid.Row="1"
                     Text="{Binding SqlText, UpdateSourceTrigger=PropertyChanged}"
                     AcceptsReturn="True"
                     VerticalScrollBarVisibility="Auto"
                     HorizontalScrollBarVisibility="Auto"
                     Margin="0,0,0,8"/>
            <Border Grid.Row="2" Padding="8" BorderBrush="#FFCFCFCF" BorderThickness="1" CornerRadius="4">
                <StackPanel Orientation="Vertical">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,0,0,8">
                        <Button Content="Tokenize" Width="100" Margin="0,0,8,0" Command="{Binding TokenizeCommand}" />
                        <Button Content="Cancel" Width="100" Margin="0,0,8,0" Command="{Binding CancelCommand}" />
                    </StackPanel>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                        <Button Content="Export JSON" Width="100" Margin="0,0,8,0" Command="{Binding ExportJsonCommand}" />
                        <Button Content="Export CSV" Width="100" Margin="0,0,8,0" Command="{Binding ExportCsvCommand}" />
                        <Button Content="Clear" Width="80" Command="{Binding ClearCommand}" />
                    </StackPanel>
                </StackPanel>
            </Border>
        </Grid>
        <!-- Right side: token list -->
        <DataGrid Grid.Column="1"
                  ItemsSource="{Binding Tokens}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  RowHeight="28"
                  Margin="12,0,0,0">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Type" Binding="{Binding Type}" Width="120"/>
                <DataGridTextColumn Header="Lexeme" Binding="{Binding Lexeme}" Width="*"/>
                <DataGridTextColumn Header="Category" Binding="{Binding Category}" Width="160"/>
                <DataGridTextColumn Header="Line" Binding="{Binding Line}" Width="80"/>
                <DataGridTextColumn Header="Col" Binding="{Binding Column}" Width="80"/>
            </DataGrid.Columns>
            <DataGrid.RowStyle>
                <Style TargetType="DataGridRow">
                    <Setter Property="Foreground" Value="{Binding Color}" />
                </Style>
            </DataGrid.RowStyle>
        </DataGrid>
    </Grid>
</Window>